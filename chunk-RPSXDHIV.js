import{a as J}from"./chunk-C6P77QXR.js";import"./chunk-SUONLQWJ.js";import{a as B}from"./chunk-Z5IQARTU.js";import{a as F}from"./chunk-WLIO6G5M.js";import{d as T}from"./chunk-UI6BEQHS.js";import{b as A,d as V,e as M,g as j,h as D,i as k,j as G,k as O,o as P,p as $,q as R}from"./chunk-OWL564RZ.js";import{f as I}from"./chunk-G2EJMNH5.js";import{$a as u,Aa as s,Ba as p,Ma as S,Oa as v,Qa as C,Ra as y,Sa as E,Ta as N,Ua as n,Va as e,Wa as c,X as h,Za as x,_a as g,ab as o,cb as d,ea as f,fa as b,fb as w}from"./chunk-2SQSF67M.js";import{d as _}from"./chunk-4CLCTAJ7.js";function H(l,m){l&1&&(n(0,"p",9),o(1,"Loading"),e())}function U(l,m){if(l&1){let a=x();n(0,"div",27)(1,"div",31)(2,"div",20)(3,"label",21),o(4),e(),c(5,"input",32),e()(),n(6,"div",31)(7,"div",20)(8,"label",21),o(9),e(),c(10,"input",33),e()(),n(11,"div",31)(12,"div",20)(13,"label",21),o(14),e(),c(15,"input",34),e()(),n(16,"div",19)(17,"div",20)(18,"label",21),o(19),e(),c(20,"input",35),e()(),n(21,"div",19)(22,"div",20)(23,"label",21),o(24),e(),c(25,"input",36),e()(),n(26,"button",37),g("click",function(){let t=f(a).$index,r=u(2);return b(r.remove(t))}),o(27,"X"),e()()}if(l&2){let a=m.$index,i=u(2);v("formGroupName",a),s(4),d("Title (",i.lang.lang,")"),s(5),d("Description (",i.lang.lang,")"),s(5),d("Image (",i.lang.lang,")"),s(5),d("Country Text (",i.lang.lang,")"),s(5),d("Country Image (",i.lang.lang,")")}}function X(l,m){if(l&1){let a=x();n(0,"form",11),g("ngSubmit",function(){f(a);let t=u();return b(t.onSubmit())}),n(1,"div")(2,"div",12)(3,"div",13)(4,"div",14)(5,"div",15)(6,"h4",16),o(7,"Nuestra Mesa Directiva Section "),e()(),n(8,"div",17)(9,"div",18)(10,"div",19)(11,"div",20)(12,"label",21),o(13),e(),c(14,"input",22),e()(),n(15,"div",19)(16,"div",20)(17,"label",21),o(18),e(),c(19,"input",23),e()(),n(20,"div",19)(21,"div",20)(22,"label",21),o(23),e(),c(24,"input",24),e()()()()()(),n(25,"div",14)(26,"div",15)(27,"h4",16),o(28,"Nuestra Mesa Directiva"),e(),n(29,"button",25),g("click",function(){f(a);let t=u();return b(t.addPost())}),o(30,"Add New"),e()(),n(31,"div",26),E(32,U,28,6,"div",27,y),e()()(),n(34,"div",28)(35,"div",29)(36,"button",30),o(37,"Update"),e()()()()()}if(l&2){let a=u();v("formGroup",a.form),s(13),d("Section Title (",a.lang.lang,")"),s(5),d("Section Description (",a.lang.lang,")"),s(5),d("Section SubHeading (",a.lang.lang,")"),s(9),N(a.posts().controls)}}var ie=(()=>{let m=class m{constructor(i,t,r,L,W){this.fb=i,this.notification=t,this.myFormService=r,this.service=L,this.lang=W,this.loading=!0,this.init={menubar:!0,plugins:"lists link image table code help wordcount"},this.form=this.fb.group({section_title:[""],section_description:[""],section_subheading:[""],posts:this.fb.array([])})}ngOnInit(){this.getRecod()}getRecod(){this.service.loading=!0,this.service.find("about_table").subscribe({next:i=>{let t=i.data.about_table?JSON.parse(i.data.about_table):[];this.posts().clear(),t.posts&&t.posts.forEach(r=>{this.posts().push(this.fb.group({title:[r.title,""],description:[r.description,""],image:[r.image,""],country_text:[r.country_text,""],country_image:[r.country_image,""]}))}),this.form.patchValue({section_title:t.section_title,section_description:t.section_description,section_subheading:t.section_subheading}),this.service.loading=!1},error:i=>{this.service.loading=!1}})}posts(){return this.form.get("posts")}addPost(){this.posts().push(this.fb.group({title:["",""],description:["",""],image:["",""],country_text:["",""],country_image:["",""]}))}onSubmit(){return _(this,null,function*(){if(this.form.valid){this.service.loading=!0;let i={name:"about_table",data:JSON.stringify(this.form.value)};this.service.update(i).subscribe({next:t=>{this.service.loading=!1,this.notification.success(t.message)},error:t=>{let r=t.error;r?r.errors?this.notification.error(Object.values(r.errors)[0]):this.notification.error(r.message):this.notification.error("Something Went Wrong"),this.service.loading=!1}})}else this.notification.error("Validation Failed")})}remove(i){this.posts().removeAt(i)}};m.\u0275fac=function(t){return new(t||m)(p(P),p(T),p(B),p(J),p(F))},m.\u0275cmp=h({type:m,selectors:[["app-about-table"]],standalone:!0,features:[w],decls:14,vars:1,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"text-center"],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info","d-flex","justify-content-between","align-items-center"],[1,"mb-0","text-white"],[1,"card-body"],[1,"row","mb-4","px-3","py-3","border"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","section_title",1,"form-control"],["formControlName","section_description",1,"form-control"],["formControlName","section_subheading",1,"form-control"],["type","button",1,"btn","btn-success","text-white",3,"click"],["formArrayName","posts",1,"card-body"],[1,"row","mb-4","px-3","py-3","border","box-seprator",3,"formGroupName"],[1,"row","pb-3"],[1,"col-12","text-center"],["type","submit",1,"btn","btn-info","text-white"],[1,"col-md-12"],["formControlName","title",1,"form-control"],["formControlName","description",1,"form-control"],["formControlName","image",1,"form-control"],["formControlName","country_text",1,"form-control"],["formControlName","country_image",1,"form-control"],["type","button",1,"delete_btn","btn","btn-danger",3,"click"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"div",1)(2,"h4",2),o(3,"Nuestra Mesa Directiva"),e()(),n(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),o(9,"Admin"),e()(),n(10,"li",8),o(11,"About"),e()()()()(),S(12,H,2,0,"p",9)(13,X,38,4,"form",10)),t&2&&(s(12),C(r.service.loading?12:13))},dependencies:[I,R,j,A,V,M,D,O,k,G,$],styles:[`.box-seprator[_ngcontent-%COMP%]{
        box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
        position: relative;
        padding-top: 20px;
        margin: 25px 0px;
    }

    .delete_btn[_ngcontent-%COMP%]{
        position: absolute;
        right: 1px;
        width: 36px;
        top: 2px;
    }`]});let l=m;return l})();export{ie as AboutTableComponent};
