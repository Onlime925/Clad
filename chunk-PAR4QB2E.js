import{a as f}from"./chunk-MGYJBGF2.js";import{a as l,b as d,c as m,d as u}from"./chunk-XILBEW5L.js";import{h as a,i as c,o as p}from"./chunk-UDRM3OUS.js";import{P as h,U as n,g as s}from"./chunk-3UUFCO54.js";var z=(()=>{let r=class r{constructor(i,t,e,g,j,v){this.http=i,this.router=t,this.appService=e,this.adminService=g,this.notification=j,this.language=v,this.apiUrl=l.apiUrl,this.dataSubject=new s({}),this.data=this.dataSubject.asObservable(),this.loading=!1}list(){this.loading=!0;let i=`${this.apiUrl}/admin/settings?lang=${this.language.lang}`;return this.http.get(i,{headers:new a({Authorization:`Bearer ${this.adminService.token}`,"Content-Type":"application/json"})})}create(i){let t=`${this.apiUrl}/admin/sliders`,e=i;return this.http.post(t,e,{headers:new a({Authorization:`Bearer ${this.adminService.token}`,"Content-Type":"application/json"})})}edit(i){let t=`${this.apiUrl}/admin/sliders/${i}`;return this.http.get(t,{headers:new a({Authorization:`Bearer ${this.adminService.token}`,"Content-Type":"application/json"})})}update(i){let t=`${this.apiUrl}/admin/settings?lang=${this.language.lang}`,e={data:i};return this.http.post(t,e,{headers:new a({Authorization:`Bearer ${this.adminService.token}`,"Content-Type":"application/json"})})}delete(i){let t=`${this.apiUrl}/admin/sliders/${i}`;return this.http.delete(t,{headers:new a({Authorization:`Bearer ${this.adminService.token}`,"Content-Type":"application/json"})})}loadSetting(){this.list().subscribe({next:i=>{let t={};i.data.forEach(e=>{t[e.name]=e}),this.dataSubject.next(t),this.loading=!1},error:i=>{let t=i.error;t?t.errors?this.notification.error(Object.values(t.errors)[0]):this.notification.error(t.message):this.notification.error("Something Went Wrong"),this.loading=!1}})}};r.\u0275fac=function(t){return new(t||r)(n(c),n(p),n(d),n(m),n(u),n(f))},r.\u0275prov=h({token:r,factory:r.\u0275fac,providedIn:"root"});let o=r;return o})();export{z as a};
