import{a as z}from"./chunk-EBXOX4Q2.js";import{a as W,b as O}from"./chunk-RRRUJOTJ.js";import{a as T}from"./chunk-WLIO6G5M.js";import{d as j}from"./chunk-UI6BEQHS.js";import{b as w,c as p,d as N,e as M,g as V,h as q,k as R,o as D,p as G,q as A}from"./chunk-OWL564RZ.js";import{d as I,f as L,m as F,o as k}from"./chunk-G2EJMNH5.js";import{$a as u,Aa as a,Ba as c,Ma as h,Oa as f,Qa as _,Ua as o,Va as i,Wa as v,X as g,Za as E,_a as C,ab as l,cb as s,ea as b,fa as S,fb as y}from"./chunk-2SQSF67M.js";import{d as x}from"./chunk-4CLCTAJ7.js";function J(t,d){t&1&&(o(0,"p",15),l(1,"Loader"),i())}function P(t,d){if(t&1&&(o(0,"div",30),l(1),i()),t&2){let e=u(2);a(),s(" ",e.myFormService.getErrorMessage("title")," ")}}function Q(t,d){if(t&1&&(o(0,"div",30),l(1),i()),t&2){let e=u(2);a(),s(" ",e.myFormService.getErrorMessage("link")," ")}}function X(t,d){if(t&1&&(o(0,"div",30),l(1),i()),t&2){let e=u(2);a(),s(" ",e.myFormService.getErrorMessage("thumbnail")," ")}}function Y(t,d){if(t&1&&(o(0,"div",30),l(1),i()),t&2){let e=u(2);a(),s(" ",e.myFormService.getErrorMessage("short_description")," ")}}function Z(t,d){if(t&1){let e=E();o(0,"form",17),C("ngSubmit",function(){b(e);let n=u();return S(n.onSubmit())}),o(1,"div",18)(2,"div",19)(3,"div",20)(4,"label",21),l(5),i(),v(6,"input",22),h(7,P,2,1,"div",23),i()(),o(8,"div",19)(9,"div",20)(10,"label",21),l(11),i(),v(12,"input",24),h(13,Q,2,1,"div",23),i()(),o(14,"div",19)(15,"div",20)(16,"label",21),l(17),i(),v(18,"input",25),h(19,X,2,1,"div",23),i()(),o(20,"div",26)(21,"div",20)(22,"label",21),l(23),i(),v(24,"editor",27),h(25,Y,2,1,"div",23),i()(),o(26,"div",28)(27,"button",29),l(28,"Update"),i()()()()}if(t&2){let e=u();f("formGroup",e.form),a(5),s("Title (",e.lang.lang,")"),a(2),f("ngIf",e.form.controls.title.invalid&&(e.form.controls.title.dirty||e.form.controls.title.touched)),a(4),s("Link (",e.lang.lang,")"),a(2),f("ngIf",e.form.controls.link.invalid&&(e.form.controls.link.dirty||e.form.controls.link.touched)),a(4),s("Thumbnail (",e.lang.lang,")"),a(2),f("ngIf",e.form.controls.thumbnail.invalid&&(e.form.controls.thumbnail.dirty||e.form.controls.thumbnail.touched)),a(4),s("Short Description (",e.lang.lang,")"),a(),f("init",e.init),a(),f("ngIf",e.form.controls.short_description.invalid&&(e.form.controls.short_description.dirty||e.form.controls.short_description.touched)),a(2),f("disabled",e.formLoader)}}var se=(()=>{let d=class d{constructor(m,n,r,B,H,K,U){this.fb=m,this.notification=n,this.myFormService=r,this.service=B,this.route=H,this.router=K,this.lang=U,this.formLoader=!1,this.editId="",this.init={menubar:!0,plugins:"lists link image table code help wordcount"},this.form=this.fb.group({title:["",[p.required,p.maxLength(50)]],link:["",[p.required,p.maxLength(50)]],thumbnail:["",p.required],short_description:["",[p.required,p.maxLength(100)]]}),this.myFormService.setForm(this.form)}ngOnInit(){this.route.paramMap.subscribe(m=>{this.editId=m.get("id"),this.getRecord(this.editId)})}getRecord(m){return x(this,null,function*(){this.formLoader=!0,this.service.edit(Number(this.editId)).subscribe({next:n=>{let r=n.data;this.form.patchValue({title:r.title,link:r.link,short_description:r.short_description,thumbnail:r.thumbnail}),this.formLoader=!1},error:n=>{let r=n.error;r?r.errors?this.notification.error(Object.values(r.errors)[0]):this.notification.error(r.message):this.notification.error("Something Went Wrong"),this.formLoader=!1,this.router.navigate(["/admin/dashboard"])}})})}onSubmit(){return x(this,null,function*(){if(this.form.valid){let m=this.form.value;m.status=1,m.id=this.editId,this.formLoader=!0,this.service.update(m).subscribe({next:n=>{this.formLoader=!1,this.notification.success(n.message),this.getRecord(this.editId),this.formLoader=!1},error:n=>{let r=n.error;r?r.errors?this.notification.error(Object.values(r.errors)[0]):this.notification.error(r.message):this.notification.error("Something Went Wrong"),this.formLoader=!1}})}else this.formLoader=!1,this.form.markAllAsTouched(),this.notification.error("Validation Failed")})}};d.\u0275fac=function(n){return new(n||d)(c(D),c(j),c(O),c(z),c(F),c(k),c(T))},d.\u0275cmp=g({type:d,selectors:[["app-slider-edit"]],standalone:!0,features:[y],decls:21,vars:1,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"mb-0","text-white"],[1,"card-body"],[1,"text-center"],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"row","pt-3"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","title","placeholder","Title",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","link","placeholder","Link",1,"form-control"],["formControlName","thumbnail","placeholder","Thumbnail",1,"form-control"],[1,"col-md-12"],["formControlName","short_description","apiKey","k0xxzqob8133dq0xmi8vlaaxcmhpjisrkp7pmwtbdxwunkk9",3,"init"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-info","text-white",3,"disabled"],[1,"text-danger"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"div",1)(2,"h4",2),l(3,"Edit Slider"),i()(),o(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),l(9,"Home"),i()(),o(10,"li",8),l(11,"Sliders"),i()()()()(),o(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),l(17,"Edit Slider Form"),i()(),o(18,"div",14),h(19,J,2,0,"p",15)(20,Z,29,11,"form",16),i()()()()),n&2&&(a(19),_(r.formLoader?19:20))},dependencies:[L,I,A,V,w,N,M,q,R,W,G],encapsulation:2});let t=d;return t})();export{se as SliderEditComponent};
