import{a as J}from"./chunk-C6P77QXR.js";import"./chunk-SUONLQWJ.js";import{a as B}from"./chunk-Z5IQARTU.js";import{a as F}from"./chunk-WLIO6G5M.js";import{d as D}from"./chunk-UI6BEQHS.js";import{b as T,d as A,e as j,g as V,h as M,i as k,j as G,k as O,o as P,p as $,q as R}from"./chunk-OWL564RZ.js";import{f as I}from"./chunk-G2EJMNH5.js";import{$a as u,Aa as l,Ba as p,Ma as C,Oa as f,Qa as S,Ra as y,Sa as E,Ta as N,Ua as i,Va as e,Wa as m,X as h,Za as x,_a as v,ab as n,cb as s,ea as b,fa as _,fb as w}from"./chunk-2SQSF67M.js";import{d as g}from"./chunk-4CLCTAJ7.js";function H(c,d){c&1&&(i(0,"p",9),n(1,"Loading"),e())}function U(c,d){if(c&1){let r=x();i(0,"div",32)(1,"div",25)(2,"div",19)(3,"label",20),n(4),e(),m(5,"input",36),e()(),i(6,"div",25)(7,"div",19)(8,"label",20),n(9),e(),m(10,"input",37),e()(),i(11,"div",18)(12,"div",19)(13,"label",20),n(14),e(),m(15,"textarea",38),e()(),i(16,"div",18)(17,"div",19)(18,"label",20),n(19),e(),m(20,"textarea",39),e()(),i(21,"button",40),v("click",function(){let t=b(r).$index,a=u(2);return _(a.remove(t))}),n(22,"X"),e()()}if(c&2){let r=d.$index,o=u(2);f("formGroupName",r),l(4),s("Country Text (",o.lang.lang,")"),l(5),s("Country Image (",o.lang.lang,")"),l(5),s("Title (",o.lang.lang,")"),l(5),s("Description (",o.lang.lang,")")}}function X(c,d){if(c&1){let r=x();i(0,"section")(1,"form",10),v("ngSubmit",function(){b(r);let t=u();return _(t.onSubmit())}),i(2,"div",11)(3,"div",12)(4,"div",13)(5,"div",14)(6,"h4",15),n(7,"Nuestro Consejo Directivo"),e()(),i(8,"div",16)(9,"div",17)(10,"div",18)(11,"div",19)(12,"label",20),n(13),e(),m(14,"input",21),e()(),i(15,"div",18)(16,"div",19)(17,"label",20),n(18),e(),m(19,"textarea",22),e()(),i(20,"div",18)(21,"div",19)(22,"label",20),n(23),e(),m(24,"input",23),e()()()()()(),i(25,"div",12)(26,"div",13)(27,"div",14)(28,"h4",15),n(29,"Miembro Observador"),e()(),i(30,"div",16)(31,"div",17)(32,"div",18)(33,"div",19)(34,"label",20),n(35),e(),m(36,"input",24),e()(),i(37,"div",25)(38,"div",19)(39,"label",20),n(40),e(),m(41,"input",26),e()(),i(42,"div",25)(43,"div",19)(44,"label",20),n(45),e(),m(46,"input",27),e()(),i(47,"div",18)(48,"div",19)(49,"label",20),n(50),e(),m(51,"textarea",28),e()(),i(52,"div",18)(53,"div",19)(54,"label",20),n(55),e(),m(56,"textarea",29),e()()()()()()(),i(57,"div",11)(58,"div",18)(59,"div",13)(60,"div",14)(61,"h4",15),n(62,"Miembros plenos"),e(),i(63,"button",30),v("click",function(){b(r);let t=u();return _(t.addPost())}),n(64,"Add New"),e()(),i(65,"div",31),E(66,U,23,5,"div",32,y),e()()()(),i(68,"div",33)(69,"div",34)(70,"button",35),n(71,"Update"),e()()()()()}if(c&2){let r=u();l(),f("formGroup",r.form),l(12),s("Section Title (",r.lang.lang,")"),l(5),s("Section Description (",r.lang.lang,")"),l(5),s("Section SubHeading (",r.lang.lang,")"),l(12),s("Section Title (",r.lang.lang,")"),l(5),s("Country Text (",r.lang.lang,")"),l(5),s("Country Image (",r.lang.lang,")"),l(5),s("Title (",r.lang.lang,")"),l(5),s("Description (",r.lang.lang,")"),l(11),N(r.posts().controls)}}var ie=(()=>{let d=class d{constructor(o,t,a,L,W){this.fb=o,this.notification=t,this.myFormService=a,this.service=L,this.lang=W,this.loading=!0,this.init={menubar:!0,plugins:"lists link image table code help wordcount"},this.form=this.fb.group({section_title:[""],section_description:[""],section_subheading:[""],posts:this.fb.array([]),member_section_title:[],member_country_text:[],member_country_image:[],member_title:[],member_description:[]})}ngOnInit(){this.getRecod()}getRecod(){this.service.loading=!0,this.service.find("about_directors").subscribe({next:o=>{let t=o.data.about_directors?JSON.parse(o.data.about_directors):[];this.posts().clear(),t.posts&&t.posts.forEach(a=>{this.posts().push(this.fb.group({title:[a.title,""],description:[a.description,""],image:[a.image,""],country_text:[a.country_text,""],country_image:[a.country_image,""]}))}),this.form.patchValue({section_title:t.section_title,section_description:t.section_description,section_subheading:t.section_subheading,member_section_title:t.member_section_title,member_country_text:t.member_country_text,member_country_image:t.member_country_image,member_title:t.member_title,member_description:t.member_description}),this.service.loading=!1},error:o=>{this.service.loading=!1}})}posts(){return this.form.get("posts")}addPost(){this.posts().push(this.fb.group({title:["",""],description:["",""],image:["",""],country_text:["",""],country_image:["",""]}))}onSubmit(){return g(this,null,function*(){if(this.form.valid){this.service.loading=!0;let o={name:"about_directors",data:JSON.stringify(this.form.value)};this.service.update(o).subscribe({next:t=>{this.service.loading=!1,this.notification.success(t.message)},error:t=>{let a=t.error;a?a.errors?this.notification.error(Object.values(a.errors)[0]):this.notification.error(a.message):this.notification.error("Something Went Wrong"),this.service.loading=!1}})}else this.notification.error("Validation Failed")})}remove(o){this.posts().removeAt(o)}};d.\u0275fac=function(t){return new(t||d)(p(P),p(D),p(B),p(J),p(F))},d.\u0275cmp=h({type:d,selectors:[["app-about-directors"]],standalone:!0,features:[w],decls:14,vars:1,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info","d-flex","justify-content-between","align-items-center"],[1,"mb-0","text-white"],[1,"card-body"],[1,"row","mb-4","px-3","py-3","border"],[1,"col-md-12"],[1,"form-group"],[1,"form-label"],["formControlName","section_title",1,"form-control"],["rows","6","formControlName","section_description",1,"form-control"],["formControlName","section_subheading",1,"form-control"],["formControlName","member_section_title",1,"form-control"],[1,"col-md-6"],["formControlName","member_country_text",1,"form-control"],["formControlName","member_country_image",1,"form-control"],["rows","1","formControlName","member_title",1,"form-control"],["rows","1","formControlName","member_description",1,"form-control"],["type","button",1,"btn","btn-success","text-white",3,"click"],["formArrayName","posts",1,"card-body"],[1,"row","mb-4","px-3","py-3","border","box-seprator",3,"formGroupName"],[1,"row","pb-3"],[1,"col-12","text-center"],["type","submit",1,"btn","btn-info","text-white"],["formControlName","country_text",1,"form-control"],["formControlName","country_image",1,"form-control"],["rows","3","formControlName","title",1,"form-control"],["rows","6","formControlName","description",1,"form-control"],["type","button",1,"delete_btn","btn","btn-danger",3,"click"]],template:function(t,a){t&1&&(i(0,"div",0)(1,"div",1)(2,"h4",2),n(3,"Nuestro Consejo Directivo"),e()(),i(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),n(9,"Admin"),e()(),i(10,"li",8),n(11,"About"),e()()()()(),C(12,H,2,0,"p",9)(13,X,72,9,"section")),t&2&&(l(12),S(a.service.loading?12:13))},dependencies:[I,R,V,T,A,j,M,O,k,G,$],styles:[`.box-seprator[_ngcontent-%COMP%]{
        box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
        position: relative;
        padding-top: 20px;
        margin: 25px 0px;
    }

    .delete_btn[_ngcontent-%COMP%]{
        position: absolute;
        right: 1px;
        width: 36px;
        top: 2px;
    }`]});let c=d;return c})();export{ie as AboutDirectorsComponent};
