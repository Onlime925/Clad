import{a as W}from"./chunk-PJ2KKYGN.js";import{a as G,b as O}from"./chunk-J4ZRW73Q.js";import{b as N,c,d as L,e as T,f as M,g as P,j,k as w,l as q,m as D,n as k,o as V,p as A}from"./chunk-MJKELEKQ.js";import{a as F}from"./chunk-MGYJBGF2.js";import{d as I}from"./chunk-XILBEW5L.js";import{d as E,f as y}from"./chunk-UDRM3OUS.js";import{$a as n,Aa as v,La as f,Na as s,Pa as S,Ta as o,Ua as t,Va as x,X as _,Za as C,_a as p,bb as l,eb as b,za as r}from"./chunk-3UUFCO54.js";import{d as h}from"./chunk-4CLCTAJ7.js";function B(i,a){i&1&&(o(0,"p",16),n(1,"Loader"),t())}function H(i,a){if(i&1&&(o(0,"div",34),n(1),t()),i&2){let e=p(2);r(),l(" ",e.myFormService.getErrorMessage("title")," ")}}function K(i,a){if(i&1&&(o(0,"div",34),n(1),t()),i&2){let e=p(2);r(),l(" ",e.myFormService.getErrorMessage("status")," ")}}function R(i,a){if(i&1&&(o(0,"div",34),n(1),t()),i&2){let e=p(2);r(),l(" ",e.myFormService.getErrorMessage("featured")," ")}}function Y(i,a){if(i&1&&(o(0,"div",34),n(1),t()),i&2){let e=p(2);r(),l(" ",e.myFormService.getErrorMessage("thumbnail")," ")}}function J(i,a){if(i&1&&(o(0,"div",34),n(1),t()),i&2){let e=p(2);r(),l(" ",e.myFormService.getErrorMessage("short_description")," ")}}function Q(i,a){if(i&1&&(o(0,"div",34),n(1),t()),i&2){let e=p(2);r(),l(" ",e.myFormService.getErrorMessage("long_description")," ")}}function U(i,a){if(i&1&&(o(0,"div",17)(1,"div",18)(2,"div",19)(3,"label",20),n(4),t(),x(5,"input",21),f(6,H,2,1,"div",22),t()(),o(7,"div",18)(8,"div",19)(9,"label",20),n(10,"Status"),t(),o(11,"select",23)(12,"option",24),n(13,"Select Status"),t(),o(14,"option",25),n(15,"Enable"),t(),o(16,"option",26),n(17,"Disable"),t()(),f(18,K,2,1,"div",22),t()(),o(19,"div",18)(20,"div",19)(21,"label",20),n(22,"Is Featured"),t(),o(23,"select",27)(24,"option",24),n(25,"Select Featured"),t(),o(26,"option",25),n(27,"Yes"),t(),o(28,"option",26),n(29,"No"),t()(),f(30,R,2,1,"div",22),t()(),o(31,"div",18)(32,"div",19)(33,"label",20),n(34),t(),x(35,"input",28),f(36,Y,2,1,"div",22),t()(),o(37,"div",29)(38,"div",19)(39,"label",20),n(40),t(),x(41,"input",30),f(42,J,2,1,"div",22),t()(),o(43,"div",29)(44,"div",19)(45,"label",20),n(46),t(),x(47,"editor",31),f(48,Q,2,1,"div",22),t()(),o(49,"div",32)(50,"button",33),n(51,"Submit"),t()()()),i&2){let e=p();r(4),l("Title (",e.lang.lang,")"),r(2),s("ngIf",e.form.controls.title.invalid&&(e.form.controls.title.dirty||e.form.controls.title.touched)),r(12),s("ngIf",e.form.controls.status.invalid&&(e.form.controls.status.dirty||e.form.controls.status.touched)),r(12),s("ngIf",e.form.controls.featured.invalid&&(e.form.controls.featured.dirty||e.form.controls.featured.touched)),r(4),l("Thumbnail (",e.lang.lang,")"),r(2),s("ngIf",e.form.controls.thumbnail.invalid&&(e.form.controls.thumbnail.dirty||e.form.controls.thumbnail.touched)),r(4),l("Short Description (",e.lang.lang,")"),r(2),s("ngIf",e.form.controls.short_description.invalid&&(e.form.controls.short_description.dirty||e.form.controls.short_description.touched)),r(4),l("Long Description (",e.lang.lang,")"),r(),s("init",e.init),r(),s("ngIf",e.form.controls.long_description.invalid&&(e.form.controls.long_description.dirty||e.form.controls.long_description.touched)),r(2),s("disabled",e.formLoader)}}var le=(()=>{let a=class a{constructor(u,m,d,g,z){this.fb=u,this.notification=m,this.myFormService=d,this.service=g,this.lang=z,this.formLoader=!0,this.init={menubar:!0,plugins:"lists link image table code help wordcount"},this.form=this.fb.group({title:["",[c.required,c.maxLength(50)]],short_description:["",[c.required,c.maxLength(200)]],thumbnail:["",c.required],featured:["",c.required],status:["",c.required],long_description:["",[c.required,c.maxLength(100)]]}),this.myFormService.setForm(this.form)}ngOnInit(){this.formLoader=!1}onSubmit(){return h(this,null,function*(){if(this.form.valid){let u=this.form.value;u.type="post",this.formLoader=!0,this.service.create(u).subscribe({next:m=>{this.formLoader=!1,this.notification.success(m.message),this.form.reset(),this.formLoader=!1},error:m=>{let d=m.error;d?d.errors?this.notification.error(Object.values(d.errors)[0]):this.notification.error(d.message):this.notification.error("Something Went Wrong"),this.formLoader=!1}})}else this.form.markAllAsTouched(),this.formLoader=!1,this.notification.error("Validation Failed"),console.log(this.form)})}};a.\u0275fac=function(m){return new(m||a)(v(k),v(I),v(O),v(W),v(F))},a.\u0275cmp=_({type:a,selectors:[["app-slider-create"]],standalone:!0,features:[b],decls:22,vars:2,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"mb-0","text-white"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"text-center"],[1,"row","pt-3"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","title","placeholder","Title",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","status",1,"form-control"],["value",""],["value","1"],["value","0"],["formControlName","featured",1,"form-control"],["formControlName","thumbnail","placeholder","Thumbnail",1,"form-control"],[1,"col-md-12"],["formControlName","short_description","placeholder","Short Description",1,"form-control"],["formControlName","long_description","apiKey","k0xxzqob8133dq0xmi8vlaaxcmhpjisrkp7pmwtbdxwunkk9",3,"init"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-info","text-white",3,"disabled"],[1,"text-danger"]],template:function(m,d){m&1&&(o(0,"div",0)(1,"div",1)(2,"h4",2),n(3,"Create Post"),t()(),o(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),n(9,"Home"),t()(),o(10,"li",8),n(11,"Posts"),t()()()()(),o(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),n(17,"Create Post Form"),t()(),o(18,"div",14)(19,"form",15),C("ngSubmit",function(){return d.onSubmit()}),f(20,B,2,0,"p",16)(21,U,52,12,"div",17),t()()()()()),m&2&&(r(19),s("formGroup",d.form),r(),S(d.formLoader?20:21))},dependencies:[y,E,A,M,q,D,N,w,L,T,P,j,G,V],encapsulation:2});let i=a;return i})();export{le as PostCreateComponent};
