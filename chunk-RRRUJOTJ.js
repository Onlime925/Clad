import{a as K,p as L}from"./chunk-OWL564RZ.js";import{f as k,g as x,o as N}from"./chunk-G2EJMNH5.js";import{Ba as a,C as E,G as v,Ia as A,J as b,K as h,O as S,P as D,S as M,U as R,X as P,Z as I,eb as B,f as p,fb as j,g as C,ka as e,la as O,n as w,na as _,pb as F,ra as U,t as u,u as y}from"./chunk-2SQSF67M.js";import{a as f,b as g}from"./chunk-4CLCTAJ7.js";var l=()=>{let n=typeof window<"u"?window:void 0;return n&&n.tinymce?n.tinymce:null},H=(()=>{class n{onBeforePaste=new e;onBlur=new e;onClick=new e;onCompositionEnd=new e;onCompositionStart=new e;onCompositionUpdate=new e;onContextMenu=new e;onCopy=new e;onCut=new e;onDblclick=new e;onDrag=new e;onDragDrop=new e;onDragEnd=new e;onDragGesture=new e;onDragOver=new e;onDrop=new e;onFocus=new e;onFocusIn=new e;onFocusOut=new e;onKeyDown=new e;onKeyPress=new e;onKeyUp=new e;onMouseDown=new e;onMouseEnter=new e;onMouseLeave=new e;onMouseMove=new e;onMouseOut=new e;onMouseOver=new e;onMouseUp=new e;onPaste=new e;onSelectionChange=new e;onActivate=new e;onAddUndo=new e;onBeforeAddUndo=new e;onBeforeExecCommand=new e;onBeforeGetContent=new e;onBeforeRenderUI=new e;onBeforeSetContent=new e;onChange=new e;onClearUndos=new e;onDeactivate=new e;onDirty=new e;onExecCommand=new e;onGetContent=new e;onHide=new e;onInit=new e;onInput=new e;onInitNgModel=new e;onLoadContent=new e;onNodeChange=new e;onPostProcess=new e;onPostRender=new e;onPreInit=new e;onPreProcess=new e;onProgressState=new e;onRedo=new e;onRemove=new e;onReset=new e;onResizeEditor=new e;onSaveContent=new e;onSetAttrib=new e;onObjectResizeStart=new e;onObjectResized=new e;onObjectSelected=new e;onSetContent=new e;onShow=new e;onSubmit=new e;onUndo=new e;onVisualAid=new e;static \u0275fac=function(o){return new(o||n)};static \u0275dir=I({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onCompositionEnd:"onCompositionEnd",onCompositionStart:"onCompositionStart",onCompositionUpdate:"onCompositionUpdate",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInput:"onInput",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}})}return n})(),T=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onCompositionEnd","onCompositionStart","onCompositionUpdate","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],c=(n,s,t)=>u(n,s).pipe(h(t)),Y=(n,s,t)=>{J(n).forEach(i=>{let r=n[i];c(s,i.substring(2),t).subscribe(d=>{ee(r)&&n.ngZone.run(()=>r.emit({event:d,editor:s}))})})},J=n=>{let s=z(n.ignoreEvents,[]);return z(n.allowedEvents,T).filter(o=>T.includes(o)&&!s.includes(o))},z=(n,s)=>typeof n=="string"?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:s,V=0,Q=n=>{let t=new Date().getTime(),o=Math.floor(Math.random()*1e9);return V++,n+"_"+o+V+String(t)},$=n=>typeof n<"u"&&n.tagName.toLowerCase()==="textarea",G=n=>typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" "),W=(n,s)=>G(n).concat(G(s)),X=()=>{},Z=n=>n==null,ee=n=>n.observed||n.observers?.length>0,ne=()=>n=>n.pipe(E(),w(()=>{})),te=()=>{let n=new C(null),s=n.pipe(y(Boolean),b(([t,o])=>{let i=t.createElement("script");return i.referrerPolicy="origin",i.type="application/javascript",i.src=o,t.head.appendChild(i),u(i,"load").pipe(ne())}),v({bufferSize:1,refCount:!0}));return{load:(...t)=>(n.getValue()||n.next(t),s),reinitialize:()=>{n.next(null)}}},oe=te(),ie=new M("TINYMCE_SCRIPT_SRC"),se={provide:K,useExisting:S(()=>re),multi:!0},re=(()=>{class n extends H{cdRef;platformId;tinymceScriptSrc;cloudChannel="7";apiKey="no-api-key";licenseKey;init;id="";initialValue;outputFormat;inline;tagName;plugins;toolbar;modelEvents="change input undo redo";allowedEvents;ignoreEvents;set disabled(t){this._disabled=t,this._editor&&this._editor.initialized&&(typeof this._editor.mode?.set=="function"?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}ngZone;_elementRef;_element;_disabled;_editor;onTouchedCallback=X;onChangeCallback;destroy$=new p;constructor(t,o,i,r,d){super(),this.cdRef=i,this.platformId=r,this.tinymceScriptSrc=d,this._elementRef=t,this.ngZone=o}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(Z(t)?"":t):this.initialValue=t===null?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){x(this.platformId)&&(this.id=this.id||Q("tiny-angular"),this.inline=this.inline!==void 0?this.inline!==!1:!!this.init?.inline,this.createElement(),l()!==null?this.initialise():this._element&&this._element.ownerDocument&&oe.load(this._element.ownerDocument,this.getScriptSrc()).pipe(h(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),l()!==null&&l().remove(this._editor)}createElement(){let t=typeof this.tagName=="string"?this.tagName:"div";if(this._element=document.createElement(this.inline?t:"textarea"),this._element){let o=document.getElementById(this.id);o&&o!==this._elementRef.nativeElement&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,$(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element)}}initialise=()=>{let t=g(f({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,license_key:this.licenseKey,plugins:W(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:o=>{this._editor=o,c(o,"init",this.destroy$).subscribe(()=>{this.initEditor(o)}),Y(this,o,this.destroy$),this.init&&typeof this.init.setup=="function"&&this.init.setup(o)}});$(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{l().init(t)})};getScriptSrc(){return Z(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){c(t,"blur",this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.onTouchedCallback())}),c(t,this.modelEvents,this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.emitOnChange(t))}),typeof this.initialValue=="string"&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),this.onInitNgModel!==void 0&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}static \u0275fac=function(o){return new(o||n)(a(_),a(O),a(F),a(U),a(ie,8))};static \u0275cmp=P({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",licenseKey:"licenseKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[B([se]),A,j],decls:0,vars:0,template:function(o,i){},dependencies:[k,L],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})();var De=(()=>{let s=class s{constructor(o){this.router=o}getErrorMessage(o){let i=this.form.get(o);return i?.hasError("required")?"Field is required.":i?.hasError("minlength")?`must be at least ${i.getError("minlength").requiredLength} characters long.`:i?.hasError("maxlength")?`Cannot exceed ${i.getError("maxlength").requiredLength} characters.`:i?.hasError("email")?"Please enter a valid email address.":null}setForm(o){this.form=o}form_patch(o){let i=Object.keys(this.form.controls),r={};for(let d of i){let m=String(d);r[m]=o?.[m]?.value}return r}};s.\u0275fac=function(i){return new(i||s)(R(N))},s.\u0275prov=D({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();export{re as a,De as b};
