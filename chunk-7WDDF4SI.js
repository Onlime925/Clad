import{a as R}from"./chunk-UCJ6GRSX.js";import{a as q}from"./chunk-664O5X2G.js";import"./chunk-FKWMOKFF.js";import{a as O}from"./chunk-5VKYLTWQ.js";import{a as U}from"./chunk-Y76QO3KO.js";import{a as A}from"./chunk-OSWCQDFV.js";import{d as N}from"./chunk-5O4WDRVK.js";import{b as H,c as v,d as j,e as T,g as M,h as V,k,o as D,p as L,q as G}from"./chunk-WNM2FDHQ.js";import{d as F,f as w}from"./chunk-EG6VKY43.js";import{Aa as p,La as u,Na as c,Pa as y,Ta as n,Ua as t,Va as g,X as _,Ya as E,Za as x,_a as f,cb as a,ea as S,eb as s,fa as C,ib as I,za as r}from"./chunk-7AR2EFHR.js";import{d as b}from"./chunk-4CLCTAJ7.js";function W(i,l){i&1&&(n(0,"p",16),a(1,"Loading"),t())}function z(i,l){if(i&1&&(n(0,"div",30),a(1),t()),i&2){let e=f(2);r(),s(" ",e.myFormService.getErrorMessage("title")," ")}}function B(i,l){if(i&1&&(n(0,"div",30),a(1),t()),i&2){let e=f(2);r(),s(" ",e.myFormService.getErrorMessage("image")," ")}}function K(i,l){if(i&1&&(n(0,"div",30),a(1),t()),i&2){let e=f(2);r(),s(" ",e.myFormService.getErrorMessage("description")," ")}}function P(i,l){if(i&1){let e=E();n(0,"div",17)(1,"div",18)(2,"div",19)(3,"label",20),a(4),t(),g(5,"input",21),u(6,z,2,1,"div",22),t()(),n(7,"div",18)(8,"div",19)(9,"label",20),a(10),t(),n(11,"div",23)(12,"app-img-uploader",24),x("imgHanle",function(o){S(e);let m=f();return C(m.form.patchValue({image:o}))}),t(),g(13,"input",25),t(),u(14,B,2,1,"div",22),t()(),n(15,"div",26)(16,"div",19)(17,"label",20),a(18),t(),g(19,"editor",27),u(20,K,2,1,"div",22),t()(),n(21,"div",28)(22,"button",29),a(23,"Update"),t()()()}if(i&2){let e=f();r(4),s("Title (",e.lang.lang,")"),r(2),c("ngIf",e.form.controls.title.invalid&&(e.form.controls.title.dirty||e.form.controls.title.touched)),r(4),s("Image (",e.lang.lang,")"),r(2),c("image",e.form.controls.image.value),r(2),c("ngIf",e.form.controls.image.invalid&&(e.form.controls.image.dirty||e.form.controls.image.touched)),r(4),s("Short Description (",e.lang.lang,")"),r(),c("init",e.init),r(),c("ngIf",e.form.controls.description.invalid&&(e.form.controls.description.dirty||e.form.controls.description.touched))}}var ae=(()=>{let l=class l{constructor(d,o,m,h,J){this.fb=d,this.notification=o,this.myFormService=m,this.service=h,this.lang=J,this.loader=!0,this.init={menubar:!0,plugins:"lists link image table code help wordcount"},this.form=this.fb.group({title:["",[v.maxLength(30)]],image:["",v.maxLength(100)],description:["",v.maxLength(1e4)]}),this.myFormService.setForm(this.form)}ngOnInit(){this.getRecord()}getRecord(){this.service.loading=!0,this.service.find("home_about").subscribe({next:d=>{let o=d.data.home_about?JSON.parse(d.data.home_about):[];o&&this.form.patchValue({title:o?.title,image:o?.image,description:o?.description}),this.service.loading=!1},error:d=>{this.service.loading=!1}})}onSubmit(){return b(this,null,function*(){if(this.form.valid){this.service.loading=!0;let d={name:"home_about",data:JSON.stringify(this.form.value)};this.service.update(d).subscribe({next:o=>{this.notification.success(o.message),this.service.loading=!1},error:o=>{let m=o.error;m?m.errors?this.notification.error(Object.values(m.errors)[0]):this.notification.error(m.message):this.notification.error("Something Went Wrong"),this.service.loading=!1}})}else this.notification.error("Validation Failed")})}};l.\u0275fac=function(o){return new(o||l)(p(D),p(N),p(U),p(q),p(A))},l.\u0275cmp=_({type:l,selectors:[["app-admin-home-about"]],standalone:!0,features:[I],decls:22,vars:2,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"mb-0","text-white"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"text-center"],[1,"row","pt-3"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","title","placeholder","Title",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"img_uploader"],[3,"imgHanle","image"],["formControlName","image",1,"d-none","form-control"],[1,"col-md-12"],["formControlName","description","apiKey","k0xxzqob8133dq0xmi8vlaaxcmhpjisrkp7pmwtbdxwunkk9",3,"init"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-info","text-white"],[1,"text-danger"]],template:function(o,m){o&1&&(n(0,"div",0)(1,"div",1)(2,"h4",2),a(3,"About Us"),t()(),n(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),a(9,"Admin"),t()(),n(10,"li",8),a(11,"Home"),t()()()()(),n(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),a(17,"About Us Form"),t()(),n(18,"div",14)(19,"form",15),x("ngSubmit",function(){return m.onSubmit()}),u(20,W,2,0,"p",16)(21,P,24,8,"div",17),t()()()()()),o&2&&(r(19),c("formGroup",m.form),r(),y(m.service.loading?20:21))},dependencies:[w,F,G,M,H,j,T,V,k,O,L,R],encapsulation:2});let i=l;return i})();export{ae as HomeAboutComponent};
