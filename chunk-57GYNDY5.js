import{a as $}from"./chunk-C6P77QXR.js";import{b as L}from"./chunk-RRRUJOTJ.js";import{a as I}from"./chunk-WLIO6G5M.js";import{d as k}from"./chunk-UI6BEQHS.js";import{b as T,d as V,e as j,g as P,h as G,i as M,j as H,k as A,o as D,p as O,q as B}from"./chunk-OWL564RZ.js";import{f as F}from"./chunk-G2EJMNH5.js";import{$a as p,Aa as m,Ba as c,Ma as C,Oa as x,Qa as S,Ra as y,Sa as w,Ta as E,Ua as o,Va as t,Wa as d,X as _,Za as b,_a as g,ab as r,cb as u,ea as f,fa as v,fb as N}from"./chunk-2SQSF67M.js";import{d as h}from"./chunk-4CLCTAJ7.js";function W(a,s){a&1&&(o(0,"p",9),r(1,"Loading"),t())}function U(a,s){if(a&1){let l=b();o(0,"div",19)(1,"div",23)(2,"div",24)(3,"label",25),r(4),t(),d(5,"input",26),t()(),o(6,"div",23)(7,"div",24)(8,"label",25),r(9),t(),d(10,"input",27),t()(),o(11,"div",23)(12,"div",24)(13,"label",25),r(14),t(),d(15,"input",28),t()(),o(16,"div",23)(17,"div",24)(18,"label",25),r(19),t(),d(20,"input",29),t()(),o(21,"div",23)(22,"div",24)(23,"label",25),r(24),t(),d(25,"input",30),t()(),o(26,"button",31),g("click",function(){let i=f(l).$index,n=p(2);return v(n.remove(i))}),r(27,"X"),t()()}if(a&2){let l=s.$index,e=p(2);x("formGroupName",l),m(4),u("Type (",e.lang.lang,")"),m(5),u("Title (",e.lang.lang,")"),m(5),u("Image (",e.lang.lang,")"),m(5),u("Button (",e.lang.lang,")"),m(5),u("Link (",e.lang.lang,")")}}function X(a,s){if(a&1){let l=b();o(0,"form",11),g("ngSubmit",function(){f(l);let i=p();return v(i.onSubmit())}),o(1,"div")(2,"div",12)(3,"div",13)(4,"div",14)(5,"div",15)(6,"h4",16),r(7,"Destacados Form "),t(),o(8,"button",17),g("click",function(){f(l);let i=p();return v(i.addPost())}),r(9,"Add New"),t()(),o(10,"div",18),w(11,U,28,6,"div",19,y),t()()()(),o(13,"div",20)(14,"div",21)(15,"button",22),r(16,"Update"),t()()()()()}if(a&2){let l=p();x("formGroup",l.form),m(11),E(l.posts().controls)}}var ie=(()=>{let s=class s{constructor(e,i,n,R,J){this.fb=e,this.notification=i,this.myFormService=n,this.service=R,this.lang=J,this.loading=!0,this.init={menubar:!0,plugins:"lists link image table code help wordcount"},this.form=this.fb.group({posts:this.fb.array([])})}ngOnInit(){this.getRecod()}getRecod(){this.service.loading=!0,this.service.find("home_posts").subscribe({next:e=>{let i=e.data.home_posts?JSON.parse(e.data.home_posts):[];this.posts().clear(),i.forEach(n=>{this.posts().push(this.fb.group({type:[n.type,""],title:[n.title,""],image:[n.image,""],button:[n.button,""],link:[n.link,""]}))}),this.service.loading=!1},error:e=>{this.service.loading=!1}})}posts(){return this.form.get("posts")}addPost(){this.posts().push(this.fb.group({type:["",""],title:["",""],image:["",""],button:["",""],link:["",""]}))}onSubmit(){return h(this,null,function*(){if(this.form.valid){this.service.loading=!0;let e={name:"home_posts",data:JSON.stringify(this.form.value.posts)};this.service.update(e).subscribe({next:i=>{this.service.loading=!1,this.notification.success(i.message)},error:i=>{let n=i.error;n?n.errors?this.notification.error(Object.values(n.errors)[0]):this.notification.error(n.message):this.notification.error("Something Went Wrong"),this.service.loading=!1}})}else this.notification.error("Validation Failed")})}remove(e){this.posts().removeAt(e)}};s.\u0275fac=function(i){return new(i||s)(c(D),c(k),c(L),c($),c(I))},s.\u0275cmp=_({type:s,selectors:[["app-home-posts"]],standalone:!0,features:[N],decls:14,vars:1,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"text-center"],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info","d-flex","justify-content-between","align-items-center"],[1,"mb-0","text-white"],["type","button",1,"btn","btn-success","text-white",3,"click"],["formArrayName","posts",1,"card-body"],[1,"row","mb-4","px-3","py-3","border","box-seprator",3,"formGroupName"],[1,"row","pb-3"],[1,"col-12","text-center"],["type","submit",1,"btn","btn-info","text-white"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","type","placeholder","Type",1,"form-control"],["formControlName","title","placeholder","Title",1,"form-control"],["formControlName","image","placeholder","Image",1,"form-control"],["formControlName","button","placeholder","Button",1,"form-control"],["formControlName","link","placeholder","Link",1,"form-control"],["type","button",1,"delete_btn","btn","btn-danger",3,"click"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"h4",2),r(3,"Destacados"),t()(),o(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),r(9,"Admin"),t()(),o(10,"li",8),r(11,"Home"),t()()()()(),C(12,W,2,0,"p",9)(13,X,17,1,"form",10)),i&2&&(m(12),S(n.service.loading?12:13))},dependencies:[F,B,P,T,V,j,G,A,M,H,O],styles:[`.box-seprator[_ngcontent-%COMP%]{
        box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
        position: relative;
    }

    .delete_btn[_ngcontent-%COMP%]{
        position: absolute;
        right: 1px;
        width: 36px;
        top: 2px;
    }`]});let a=s;return a})();export{ie as HomePostsComponent};
