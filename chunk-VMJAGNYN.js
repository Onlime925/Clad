import{a as G}from"./chunk-C6P77QXR.js";import{b as V}from"./chunk-RRRUJOTJ.js";import{a as F}from"./chunk-WLIO6G5M.js";import{d as I}from"./chunk-UI6BEQHS.js";import{b as N,c as g,d as j,e as A,g as B,h as M,k as T,o as w,p as L,q as D}from"./chunk-OWL564RZ.js";import{d as y,f as E}from"./chunk-G2EJMNH5.js";import{$a as v,Aa as a,Ba as s,Ma as f,Oa as p,Qa as S,Ua as o,Va as i,Wa as u,X as b,_a as _,ab as r,cb as d,fb as C}from"./chunk-2SQSF67M.js";import{d as h}from"./chunk-4CLCTAJ7.js";function J(t,l){t&1&&(o(0,"p",16),r(1,"Loading"),i())}function W(t,l){if(t&1&&(o(0,"div",28),r(1),i()),t&2){let e=v(2);a(),d(" ",e.myFormService.getErrorMessage("title")," ")}}function k(t,l){if(t&1&&(o(0,"div",28),r(1),i()),t&2){let e=v(2);a(),d(" ",e.myFormService.getErrorMessage("image")," ")}}function R(t,l){if(t&1&&(o(0,"div",28),r(1),i()),t&2){let e=v(2);a(),d(" ",e.myFormService.getErrorMessage("description")," ")}}function U(t,l){if(t&1&&(o(0,"div",17)(1,"div",18)(2,"div",19)(3,"label",20),r(4),i(),u(5,"input",21),f(6,W,2,1,"div",22),i()(),o(7,"div",18)(8,"div",19)(9,"label",20),r(10),i(),u(11,"input",23),f(12,k,2,1,"div",22),i()(),o(13,"div",24)(14,"div",19)(15,"label",20),r(16),i(),u(17,"textarea",25),f(18,R,2,1,"div",22),i()(),o(19,"div",26)(20,"button",27),r(21,"Update"),i()()()),t&2){let e=v();a(4),d("Title (",e.lang.lang,")"),a(2),p("ngIf",e.form.controls.title.invalid&&(e.form.controls.title.dirty||e.form.controls.title.touched)),a(4),d("Image (",e.lang.lang,")"),a(2),p("ngIf",e.form.controls.image.invalid&&(e.form.controls.image.dirty||e.form.controls.image.touched)),a(4),d("Short Description (",e.lang.lang,")"),a(2),p("ngIf",e.form.controls.description.invalid&&(e.form.controls.description.dirty||e.form.controls.description.touched))}}var $=(()=>{let l=class l{constructor(c,n,m,x,O){this.fb=c,this.notification=n,this.myFormService=m,this.service=x,this.lang=O,this.formLoader=!0,this.init={menubar:!0,plugins:"lists link image table code help wordcount"},this.form=this.fb.group({title:["",[g.maxLength(30)]],image:["",g.maxLength(100)],description:["",g.maxLength(1e4)]}),this.myFormService.setForm(this.form),this.service.loadSetting()}ngOnInit(){this.service.data.subscribe(c=>{if(c?.about_banner?.value){let n=JSON.parse(c.about_banner.value);n&&this.form.patchValue({title:n?.title,image:n?.image,description:n?.description})}})}onSubmit(){return h(this,null,function*(){if(this.form.valid){this.service.loading=!0;let c={about_banner:JSON.stringify(this.form.value)};this.service.update(c).subscribe({next:n=>{this.notification.success(n.message),this.service.loadSetting(),this.service.loading=!1},error:n=>{let m=n.error;m?m.errors?this.notification.error(Object.values(m.errors)[0]):this.notification.error(m.message):this.notification.error("Something Went Wrong"),this.service.loading=!1}})}else this.notification.error("Validation Failed")})}};l.\u0275fac=function(n){return new(n||l)(s(w),s(I),s(V),s(G),s(F))},l.\u0275cmp=b({type:l,selectors:[["app-admin-about-banner"]],standalone:!0,features:[C],decls:22,vars:2,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"mb-0","text-white"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"text-center"],[1,"row","pt-3"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","title","placeholder","Title",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","image","placeholder","Image",1,"form-control"],[1,"col-md-12"],["formControlName","description","name","deescription",1,"form-control"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-info","text-white"],[1,"text-danger"]],template:function(n,m){n&1&&(o(0,"div",0)(1,"div",1)(2,"h4",2),r(3,"Banner"),i()(),o(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),r(9,"Admin"),i()(),o(10,"li",8),r(11,"About"),i()()()()(),o(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),r(17,"Banner Form"),i()(),o(18,"div",14)(19,"form",15),_("ngSubmit",function(){return m.onSubmit()}),f(20,J,2,0,"p",16)(21,U,22,6,"div",17),i()()()()()),n&2&&(a(19),p("formGroup",m.form),a(),S(m.service.loading?20:21))},dependencies:[E,y,D,B,N,j,A,M,T,L],encapsulation:2});let t=l;return t})();export{$ as AboutBannerComponent};
