import{a as P}from"./chunk-PAR4QB2E.js";import{b as J}from"./chunk-J4ZRW73Q.js";import{b as j,d as T,e as G,f as M,g as V,h as A,i as H,j as O,n as B,o as D,p as L}from"./chunk-MJKELEKQ.js";import{a as k}from"./chunk-MGYJBGF2.js";import{d as I}from"./chunk-XILBEW5L.js";import{f as F}from"./chunk-UDRM3OUS.js";import{$a as o,Aa as d,La as S,Na as v,Pa as _,Qa as C,Ra as y,Sa as E,Ta as n,Ua as e,Va as c,X as x,Ya as w,Za as b,_a as p,bb as u,ea as f,eb as N,fa as g,za as s}from"./chunk-3UUFCO54.js";import{d as h}from"./chunk-4CLCTAJ7.js";function R(l,a){l&1&&(n(0,"p",9),o(1,"Loading"),e())}function U(l,a){if(l&1&&(n(0,"div",19)(1,"div",23)(2,"div",24)(3,"label",25),o(4),e(),c(5,"input",26),e()(),n(6,"div",23)(7,"div",24)(8,"label",25),o(9),e(),c(10,"input",27),e()(),n(11,"div",23)(12,"div",24)(13,"label",25),o(14),e(),c(15,"input",28),e()(),n(16,"div",23)(17,"div",24)(18,"label",25),o(19),e(),c(20,"input",29),e()(),n(21,"button",30),o(22,"X"),e()()),l&2){let m=a.$index,t=p(2);v("formGroupName",m),s(4),u("Title (",t.lang.lang,")"),s(5),u("Image (",t.lang.lang,")"),s(5),u("Button (",t.lang.lang,")"),s(5),u("Link (",t.lang.lang,")")}}function X(l,a){if(l&1){let m=w();n(0,"form",11),b("ngSubmit",function(){f(m);let i=p();return g(i.onSubmit())}),n(1,"div")(2,"div",12)(3,"div",13)(4,"div",14)(5,"div",15)(6,"h4",16),o(7,"Slider Form "),e(),n(8,"button",17),b("click",function(){f(m);let i=p();return g(i.addSlider())}),o(9,"Add New"),e()(),n(10,"div",18),y(11,U,23,5,"div",19,C),e()()()(),n(13,"div",20)(14,"div",21)(15,"button",22),o(16,"Update"),e()()()()()}if(l&2){let m=p();v("formGroup",m.form),s(11),E(m.sliders().controls)}}var ie=(()=>{let a=class a{constructor(t,i,r,W,$){this.fb=t,this.notification=i,this.myFormService=r,this.service=W,this.lang=$,this.loading=!0,this.init={menubar:!0,plugins:"lists link image table code help wordcount"},this.form=this.fb.group({sliders:this.fb.array([])}),this.service.loadSetting()}sliders(){return this.form.get("sliders")}addSlider(){this.sliders().push(this.fb.group({title:["",""],image:["",""],button:["",""],link:["",""]}))}ngOnInit(){this.service.data.subscribe(t=>{if(t?.home_slider?.value){let i=JSON.parse(t.home_slider.value);i&&(this.sliders().clear(),i.forEach(r=>{this.sliders().push(this.fb.group({title:[r.title,""],image:[r.image,""],button:[r.button,""],link:[r.link,""]}))}))}})}onSubmit(){return h(this,null,function*(){if(this.form.valid){this.service.loading=!0;let t={home_slider:JSON.stringify(this.form.value.sliders)};this.service.update(t).subscribe({next:i=>{this.notification.success(i.message),this.service.loadSetting(),this.service.loading=!1},error:i=>{let r=i.error;r?r.errors?this.notification.error(Object.values(r.errors)[0]):this.notification.error(r.message):this.notification.error("Something Went Wrong"),this.service.loading=!1}})}else this.notification.error("Validation Failed")})}remove(t){this.sliders().removeAt(t)}};a.\u0275fac=function(i){return new(i||a)(d(B),d(I),d(J),d(P),d(k))},a.\u0275cmp=x({type:a,selectors:[["app-admin-setting-home-slider"]],standalone:!0,features:[N],decls:14,vars:1,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"text-center"],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info","d-flex","justify-content-between","align-items-center"],[1,"mb-0","text-white"],["type","button",1,"btn","btn-success","text-white",3,"click"],["formArrayName","sliders",1,"card-body"],[1,"row","mb-4","px-3","py-3","border","box-seprator",3,"formGroupName"],[1,"row","pb-3"],[1,"col-12","text-center"],["type","submit",1,"btn","btn-info","text-white"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","title","placeholder","Title",1,"form-control"],["formControlName","image","placeholder","Image",1,"form-control"],["formControlName","button","placeholder","Button",1,"form-control"],["formControlName","link","placeholder","Link",1,"form-control"],["type","button",1,"delete_btn","btn","btn-danger"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"div",1)(2,"h4",2),o(3,"Slider"),e()(),n(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),o(9,"Admin"),e()(),n(10,"li",8),o(11,"Home"),e()()()()(),S(12,R,2,0,"p",9)(13,X,17,1,"form",10)),i&2&&(s(12),_(r.service.loading?12:13))},dependencies:[F,L,M,j,T,G,V,O,A,H,D],styles:[`.box-seprator[_ngcontent-%COMP%]{
        box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
        position: relative;
    }

    .delete_btn[_ngcontent-%COMP%]{
        position: absolute;
        right: 1px;
        width: 36px;
        top: 2px;
    }`]});let l=a;return l})();export{ie as SettingHomeSliderComponent};
